# 2025-11-06 작업 내용

## TestFlight 배포 시도

### 문제: 코드사인 에러
```
No valid code signing certificates were found
```

### 원인
- iOS 빌드는 성공 (`--no-codesign`)
- TestFlight 배포는 코드사인 필요
- Provisioning Profile 없음

---

## Codemagic 설정

### 환경변수 추가 필요
```
1. GOOGLE_SERVICE_INFO_PLIST ✅ (이미 있음)
2. APP_STORE_CONNECT_API_KEY_ID: 654L7W8MGA
3. APP_STORE_CONNECT_ISSUER_ID: (App Store Connect에서 확인)
4. APP_STORE_CONNECT_API_KEY: (AuthKey_654L7W8MGA.p8의 base64)
```

**Value:**
```
APP_STORE_CONNECT_API_KEY_ID:
654L7W8MGA

APP_STORE_CONNECT_API_KEY:
LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR1RBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEJIa3dkd0lCQVFRZ2tHRUhEQTZNNUh0cmNTbmQKQ3RSMDZEZ2NUU1dpYzE5SzZJYk4rem8ybFZ1Z0NnWUlLb1pJemowREFRZWhSQU5DQUFRNUxKOXFtYjJ4UnhJego5eEEzaWM1bHF2SC9yNUp3K2I3VlErR2JoUDUwZmpBVlBoT3hCMDJvdER6Rk51dGtvUWxlZlFIQWlsaTlSZnhyClg4dE00Y1Z4Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0=
```

---

## Code Signing Identities 확인

### ✅ Certificate (이미 있음)
- Name: **SEFRA**
- Type: **production**
- Team: **sefra**
- Expires: **November 05, 2026**

### ❌ Provisioning Profile (없음)
**필요한 작업:**
- `.mobileprovision` 파일 필요

---

## Provisioning Profile 생성 방법

### 방법 1: Codemagic 자동 (권장) ⭐️
```
Codemagic → Code signing identities
→ "Fetch certificate" 버튼 클릭
→ Apple ID 로그인
→ 자동으로 생성/다운로드
```

### 방법 2: Apple Developer 수동
```
1. https://developer.apple.com/account
2. Certificates, Identifiers & Profiles → Profiles
3. "+" → App Store
4. com.sefra.sefraFlutter 선택
5. SEFRA 인증서 선택
6. Generate → Download
7. Codemagic에 업로드
```

---

## 다음 단계

**TestFlight 배포 완료하려면:**
- [ ] Provisioning Profile 생성 (Fetch certificate 클릭)
- [ ] 환경변수 추가 (APP_STORE_CONNECT_ISSUER_ID)
- [ ] Codemagic 빌드 재시도
- [ ] 자동으로 TestFlight 업로드됨

---

## 참고 문서
- `TESTFLIGHT_SETUP.md` - 상세 가이드
- `1105.md` - 이전 작업 내용

---

**현재 상태:**
- ✅ 코드 완성
- ✅ iOS 빌드 성공
- ✅ Certificate 있음
- ⏳ Provisioning Profile 생성 대기
- ⏳ TestFlight 배포 대기

**GitHub:** https://github.com/zanoone/sefra
**작업일:** 2025-11-06
