# 2025ë…„ 11ì›” 6ì¼ - Sefra Flutter í”„ë¡œì íŠ¸ ì„¤ì • ë° ë¬¸ì œ í•´ê²°

## ğŸ“‹ ì‘ì—… ê°œìš”

Flutter iOS ì•± ê°œë°œ í™˜ê²½ êµ¬ì¶• ë° ë¹Œë“œ ë¬¸ì œ í•´ê²°

---

## ğŸ”§ ìˆ˜í–‰í•œ ì‘ì—…

### 1. Flutter SDK ì„¤ì¹˜

**ë¬¸ì œ**: Flutterê°€ ì‹œìŠ¤í…œì— ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
```bash
cd ~
git clone https://github.com/flutter/flutter.git -b stable --depth 1
```

**ê²°ê³¼**:
- Flutter 3.35.7 ì„¤ì¹˜ ì™„ë£Œ
- Dart 3.9.2 í¬í•¨
- PATH ì„¤ì •: `~/.zshrc` íŒŒì¼ ìƒì„± ë° Flutter ê²½ë¡œ ì¶”ê°€

```bash
# ~/.zshrc
export PATH="$PATH:$HOME/flutter/bin"
```

---

### 2. CocoaPods ì„¤ì¹˜

**ë¬¸ì œ**: iOS ì˜ì¡´ì„± ê´€ë¦¬ì ë¯¸ì„¤ì¹˜

**í•´ê²°**:
```bash
brew install cocoapods
```

**ê²°ê³¼**:
- CocoaPods 1.16.2 ì„¤ì¹˜ ì™„ë£Œ
- 17ê°œì˜ pods ì„¤ì¹˜ ì„±ê³µ

---

### 3. í•œê¸€ ì…ë ¥ ë¬¸ì œ í•´ê²° (3ê°€ì§€)

#### 3.1 Xcode ì—ë””í„° í•œê¸€ ì…ë ¥

**ë¬¸ì œ**: Xcodeì—ì„œ í•œê¸€ ì…ë ¥ ë¶ˆê°€

**ì›ì¸**: ì‹œìŠ¤í…œ ì–¸ì–´ ì„¤ì • ì˜¤ë¥˜ (`ko-RU` â†’ `ko-KR`ë¡œ ìˆ˜ì • í•„ìš”)

**í•´ê²° ë°©ë²•**:
1. ì‹œìŠ¤í…œ í™˜ê²½ì„¤ì • â†’ í‚¤ë³´ë“œ â†’ ì…ë ¥ ì†ŒìŠ¤
2. "í•œêµ­ì–´" ë˜ëŠ” "2-Set Korean" ì¶”ê°€
3. Xcodeì—ì„œ `Control + Space`ë¡œ í•œ/ì˜ ì „í™˜

#### 3.2 Flutter ì•± í•œê¸€ ì…ë ¥

**ë¬¸ì œ**: iOS ì•±ì—ì„œ í•œê¸€ í‚¤ë³´ë“œ ì…ë ¥ ë¶ˆê°€

**í•´ê²°**:

**íŒŒì¼**: `ios/Runner/Info.plist`
```xml
<key>CFBundleDevelopmentRegion</key>
<string>ko</string>
<key>CFBundleLocalizations</key>
<array>
    <string>ko</string>
    <string>en</string>
</array>
```

**íŒŒì¼**: `lib/main.dart`
```dart
initialSettings: InAppWebViewSettings(
  javaScriptEnabled: true,
  cacheEnabled: true,
  // í‚¤ë³´ë“œ ì„¤ì • (í•œê¸€ ì…ë ¥ ì§€ì›)
  keyboardDisplayRequiresUserAction: false,
  suppressesIncrementalRendering: false,
),
```

#### 3.3 VNC/ì›ê²© ë°ìŠ¤í¬í†± í•œê¸€ ì…ë ¥

**ë¬¸ì œ**: VNC ì—°ê²° ì‹œ í•œê¸€ ì…ë ¥ ë¶ˆê°€

**í•´ê²°**: í•œê¸€ ì…ë ¥ê¸° ì‹œìŠ¤í…œ ë“±ë¡ ë° ì¬ë¶€íŒ…

---

### 4. Firebase Swift í˜¸í™˜ì„± ë¬¸ì œ í•´ê²°

**ë¬¸ì œ**: Firebase SDK 11.15.0ì´ Swift 6.0 ì‹¤í—˜ì  ê¸°ëŠ¥ ì‚¬ìš©ìœ¼ë¡œ ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
Cannot find type 'sending' in scope
Access level on imports require '-enable-experimental-feature AccessLevelOnImport'
```

**í•´ê²° ë°©ë²• 1**: Firebase ë²„ì „ ë‹¤ìš´ê·¸ë ˆì´ë“œ

**íŒŒì¼**: `pubspec.yaml`
```yaml
dependencies:
  firebase_core: ^2.24.2  # 3.6.0ì—ì„œ ë‹¤ìš´ê·¸ë ˆì´ë“œ
  firebase_messaging: ^14.7.9  # 15.1.3ì—ì„œ ë‹¤ìš´ê·¸ë ˆì´ë“œ
```

**ê²°ê³¼**:
- Firebase SDK 10.25.0ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ (ì´ì „ 11.15.0)

**í•´ê²° ë°©ë²• 2**: Swift ë²„ì „ ê³ ì •

**íŒŒì¼**: `ios/Podfile`
```ruby
post_install do |installer|
  installer.pods_project.targets.each do |target|
    target.build_configurations.each do |config|
      # Fix Swift 6.0 compatibility
      config.build_settings['SWIFT_VERSION'] = '5.0'
      config.build_settings['SWIFT_STRICT_CONCURRENCY'] = 'minimal'
    end
  end
end
```

---

### 5. í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ì„¤ì¹˜

**Flutter íŒ¨í‚¤ì§€**:
```bash
cd /Users/admin/Documents/sefra
flutter pub get
```

**iOS ì˜ì¡´ì„±**:
```bash
cd ios
pod install
```

**ì„¤ì¹˜ëœ ì£¼ìš” íŒ¨í‚¤ì§€**:
- flutter_inappwebview: 6.0.0
- local_auth: 2.1.0
- firebase_core: 2.32.0
- firebase_messaging: 14.7.10
- device_info_plus: 9.1.0
- shared_preferences: 2.2.0

---

## âŒ ë¯¸í•´ê²° ë¬¸ì œ

### Xcode Command Line Tools ì„¤ì • í•„ìš”

**ë¬¸ì œ**: iOS ì‹œë®¬ë ˆì´í„° ë¹Œë“œ ì‹¤íŒ¨ (Exit code 65)

**ì›ì¸**: Xcode Command Line Toolsê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì§€ ì•ŠìŒ

**í•´ê²° í•„ìš” (sudo ê¶Œí•œ í•„ìš”)**:
```bash
sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer
sudo xcodebuild -runFirstLaunch
```

**ì¦ìƒ**:
- xcrun simctl ëª…ë ¹ì–´ ì‹¤íŒ¨
- flutter devicesì—ì„œ iOS ì‹œë®¬ë ˆì´í„° ê°ì§€ ì•ˆ ë¨
- Xcode ë¹Œë“œ ì‹¤íŒ¨

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

### í•„ìˆ˜ ì‘ì—…

1. **Xcode Command Line Tools ì„¤ì •**:
   ```bash
   sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer
   sudo xcodebuild -runFirstLaunch
   ```

2. **Flutter doctor í™•ì¸**:
   ```bash
   flutter doctor -v
   ```

3. **iOS ì‹œë®¬ë ˆì´í„° ì‹¤í–‰**:
   ```bash
   open -a Simulator
   flutter devices
   ```

4. **ì•± ë¹Œë“œ ë° ì‹¤í–‰**:
   ```bash
   cd /Users/admin/Documents/sefra
   flutter run
   ```

---

## ğŸ” ì£¼ìš” ì—ëŸ¬ ë° í•´ê²° ë°©ë²•

### ì—ëŸ¬ 1: Flutter ëª…ë ¹ì–´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
```
command not found: flutter
```
**í•´ê²°**: `export PATH="$PATH:$HOME/flutter/bin"`

### ì—ëŸ¬ 2: Generated.xcconfigë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
```
could not find included file 'Generated.xcconfig'
```
**í•´ê²°**: `flutter clean && flutter pub get && cd ios && pod install`

### ì—ëŸ¬ 3: Firebase Swift ì»´íŒŒì¼ ì—ëŸ¬
```
Cannot find type 'sending' in scope
```
**í•´ê²°**: Firebase ë²„ì „ ë‹¤ìš´ê·¸ë ˆì´ë“œ + Swift 5.0 ê³ ì •

### ì—ëŸ¬ 4: CocoaPods íŒŒì¼ ê²½ë¡œ ì—ëŸ¬
```
Unable to load contents of file list
```
**í•´ê²°**: `pod deintegrate && pod install`

---

## ğŸ“‚ ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

1. `/Users/admin/.zshrc` (ì‹ ê·œ)
2. `pubspec.yaml`
3. `ios/Runner/Info.plist`
4. `lib/main.dart`
5. `ios/Podfile`

---

## ğŸ’¡ ìœ ìš©í•œ ëª…ë ¹ì–´

### Flutter
```bash
flutter --version
flutter pub get
flutter clean
flutter devices
flutter run
flutter build ios
flutter doctor -v
```

### iOS
```bash
xcrun simctl list devices
open -a Simulator
cd ios && pod install
```

---

## ğŸ¯ í”„ë¡œì íŠ¸ ì •ë³´

- **ì•± ì´ë¦„**: Sefra
- **ë²„ì „**: 1.0.0+17
- **í”Œë«í¼**: iOS 15.0+
- **URL**: https://sefra.kr
- **ì£¼ìš” ê¸°ëŠ¥**:
  - WebView
  - ìƒì²´ì¸ì¦ (Face ID/Touch ID)
  - Firebase í‘¸ì‹œ ì•Œë¦¼
  - ë””ë°”ì´ìŠ¤ ì •ë³´ ìˆ˜ì§‘

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] Flutter SDK ì„¤ì¹˜
- [x] CocoaPods ì„¤ì¹˜
- [x] í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ì„¤ì¹˜
- [x] í•œê¸€ ì…ë ¥ ì„¤ì •
- [x] Firebase ë²„ì „ ë‹¤ìš´ê·¸ë ˆì´ë“œ
- [x] Swift í˜¸í™˜ì„± ì„¤ì •
- [ ] **Xcode Command Line Tools ì„¤ì • (ë¯¸ì™„ë£Œ - sudo í•„ìš”)**
- [ ] iOS ì‹œë®¬ë ˆì´í„° ë¹Œë“œ ì„±ê³µ
- [ ] ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸

---

## ğŸ‰ ìµœì¢… í•´ê²° (2025ë…„ 11ì›” 6ì¼ ì˜¤í›„)

### macOS ë° iOS ë¹Œë“œ ì„±ê³µ!

#### ë¬¸ì œì 
1. **macOS Podfile Swift í˜¸í™˜ì„± ëˆ„ë½**: iOS Podfileì—ëŠ” Swift 5.0 ê³ ì • ì„¤ì •ì´ ìˆì—ˆì§€ë§Œ macOS Podfileì—ëŠ” ì—†ì—ˆìŒ
2. **flutter_inappwebview ë²„ì „ ë¶ˆì¼ì¹˜**: pubspec.yamlì— ^6.0.0ìœ¼ë¡œ ì§€ì •í–ˆì§€ë§Œ 6.1.5ê°€ ì„¤ì¹˜ë¨
3. **API í˜¸í™˜ì„± ë¬¸ì œ**: flutter_inappwebview 6.0.0ì—ì„œ `keyboardDisplayRequiresUserAction` íŒŒë¼ë¯¸í„° ë¯¸ì§€ì›

#### í•´ê²° ê³¼ì •

**1ë‹¨ê³„: macOS Podfile ìˆ˜ì •**
- iOS Podfileê³¼ ë™ì¼í•œ Swift í˜¸í™˜ì„± ì„¤ì • ì¶”ê°€:
```ruby
post_install do |installer|
  installer.pods_project.targets.each do |target|
    flutter_additional_macos_build_settings(target)

    target.build_configurations.each do |config|
      # Fix Swift 6.0 compatibility issues with Firebase
      config.build_settings['SWIFT_VERSION'] = '5.0'
      config.build_settings['SWIFT_STRICT_CONCURRENCY'] = 'minimal'

      # Fix Firebase non-modular header issue
      config.build_settings['CLANG_ALLOW_NON_MODULAR_INCLUDES_IN_FRAMEWORK_MODULES'] = 'YES'
    end
  end
end
```

**2ë‹¨ê³„: Pod ì¬ì„¤ì¹˜**
```bash
# macOS
cd macos
rm -f Podfile.lock
pod install --repo-update

# iOS
cd ios
pod deintegrate
rm -f Podfile.lock
pod install --repo-update
```

**3ë‹¨ê³„: flutter_inappwebview ë²„ì „ ê³ ì •**
- pubspec.yaml ìˆ˜ì •: `^6.0.0` â†’ `6.0.0` (ì •í™•í•œ ë²„ì „ ê³ ì •)
- `flutter pub get` ì‹¤í–‰í•˜ì—¬ 6.1.5 â†’ 6.0.0 ë‹¤ìš´ê·¸ë ˆì´ë“œ

**4ë‹¨ê³„: ì½”ë“œ ìˆ˜ì •**
- lib/main.dartì—ì„œ `keyboardDisplayRequiresUserAction` íŒŒë¼ë¯¸í„° ì œê±° (6.0.0ì—ì„œ ë¯¸ì§€ì›)

#### ìµœì¢… ê²°ê³¼
```bash
âœ“ macOS ë¹Œë“œ ì„±ê³µ: build/macos/Build/Products/Debug/sefra_flutter.app
âœ“ iOS ë¹Œë“œ ì„±ê³µ: build/ios/iphoneos/Runner.app
```

#### ë³€ê²½ëœ íŒŒì¼
1. `macos/Podfile` - Swift í˜¸í™˜ì„± ì„¤ì • ì¶”ê°€
2. `pubspec.yaml` - flutter_inappwebview ë²„ì „ 6.0.0ìœ¼ë¡œ ê³ ì •
3. `lib/main.dart` - keyboardDisplayRequiresUserAction íŒŒë¼ë¯¸í„° ì œê±°

---

**ì‘ì„±ì¼**: 2025ë…„ 11ì›” 6ì¼
**ì‘ì„±ì**: Claude Code
**í”„ë¡œì íŠ¸**: Sefra Flutter iOS App
