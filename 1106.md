# 2025-11-06 ì‘ì—… ë‚´ìš©

## âœ… TestFlight ì²« ì—…ë¡œë“œ ì„±ê³µ!

### Build 1 ì„±ê³µ
- Version: 1.0.0 (1)
- Bundle ID: `sefra.kr`ë¡œ ë³€ê²½ ì™„ë£Œ
- App Store Connectì— ì—…ë¡œë“œ ì„±ê³µ
- ìƒíƒœ: ì²˜ë¦¬ ì¤‘ â†’ í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ì™„ë£Œ

---

## ğŸš¨ ì‹¬ê°í•œ ë¬¸ì œ ë°œê²¬: ì•± ì¶©ëŒ

### ì¦ìƒ
```
Exception Type: EXC_BAD_ACCESS (SIGSEGV)
Exception Subtype: KERN_INVALID_ADDRESS at 0x0000000000000000
Termination Reason: SIGNAL 11 Segmentation fault: 11
```

**ì•± ì‹¤í–‰ í›„ 0.1ì´ˆ ë§Œì— ì¦‰ì‹œ ì¶©ëŒ!**

---

## ğŸ” ë””ë²„ê¹… ê³¼ì • (Build 1 â†’ Build 6)

### Build 2-3: Firebase ì—ëŸ¬ ì²˜ë¦¬ ì‹œë„
**ì‹œë„:**
- Firebase.initializeApp()ì„ try-catchë¡œ ê°ìŒˆ
- ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ ì•±ì´ ê³„ì† ì‹¤í–‰ë˜ë„ë¡ ì²˜ë¦¬

**ê²°ê³¼:** âŒ ì‹¤íŒ¨ - ì—¬ì „íˆ ì¶©ëŒ

**ì›ì¸:** Firebaseê°€ exceptionì„ throwí•˜ì§€ ì•Šê³  ì§ì ‘ segmentation fault ë°œìƒ

---

### Build 4: Firebase ì™„ì „ ë¹„í™œì„±í™”
**ì‹œë„:**
- main.dartì—ì„œ Firebase ì´ˆê¸°í™” ì£¼ì„ ì²˜ë¦¬

**ê²°ê³¼:** âŒ ì‹¤íŒ¨ - ì—¬ì „íˆ ì¶©ëŒ!

**ê¹¨ë‹¬ìŒ:**
```swift
GeneratedPluginRegistrant.register(with: self)
```
iOS ë„¤ì´í‹°ë¸Œ ë ˆë²¨ì—ì„œ Firebase í”ŒëŸ¬ê·¸ì¸ì´ **ìë™ìœ¼ë¡œ ì´ˆê¸°í™”**ë¨!
Dart ì½”ë“œì—ì„œ ì£¼ì„ ì²˜ë¦¬í•´ë„ **ì˜ë¯¸ ì—†ìŒ**!

---

### Build 5: Firebase ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ë¹„í™œì„±í™”
**ì‹œë„:**
- codemagic.yamlì˜ GoogleService-Info.plist ìƒì„± ìŠ¤í¬ë¦½íŠ¸ ì£¼ì„ ì²˜ë¦¬

**ê²°ê³¼:** âŒ ì‹¤íŒ¨ - ì—¬ì „íˆ ì¶©ëŒ

**ì´ìœ :** Firebase í”ŒëŸ¬ê·¸ì¸ì´ GoogleService-Info.plistë¥¼ ì°¾ìœ¼ë ¤ê³  ì‹œë„í•˜ì§€ë§Œ íŒŒì¼ì´ ì—†ì–´ì„œ ì¶©ëŒ

---

## ğŸ¯ ê·¼ë³¸ ì›ì¸ ë°œê²¬!

### ë¬¸ì œ
1. **ë¡œì»¬ì—ëŠ” GoogleService-Info.plist ì¡´ì¬**
   - í•˜ì§€ë§Œ Bundle IDê°€ `com.sefra.sefraFlutter`ë¡œ **ì˜ëª»ë¨**
   - `.gitignore`ì— í¬í•¨ë˜ì–´ **Gitì— ì»¤ë°‹ ì•ˆ ë¨**

2. **Codemagic í™˜ê²½ë³€ìˆ˜ ë°©ì‹ ì‹¤íŒ¨**
   ```yaml
   echo "$GOOGLE_SERVICE_INFO_PLIST" | base64 --decode > ios/Runner/GoogleService-Info.plist
   ```
   - í™˜ê²½ë³€ìˆ˜ê°€ ì œëŒ€ë¡œ ì„¤ì •ë˜ì§€ ì•ŠìŒ
   - ê°’ì´ ì˜ë¦¬ê±°ë‚˜ ëˆ„ë½ë¨

3. **ê²°ê³¼**
   ```
   Codemagic ë¹Œë“œ ì‹œ
   â†’ GoogleService-Info.plist ì—†ìŒ ë˜ëŠ” ì˜ëª»ëœ ë‚´ìš©
   â†’ Firebase í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” ì‹¤íŒ¨
   â†’ Segmentation Fault
   ```

---

## âœ… ìµœì¢… í•´ê²°ì±… (Build 6)

### 1. Bundle ID ë³€ê²½
```
com.sefra.sefraFlutter â†’ sefra.kr
```

### 2. ì˜¬ë°”ë¥¸ GoogleService-Info.plist ìƒì„±
**Bundle ID: sefra.kr**
- Firebase Consoleì—ì„œ ìƒˆ iOS ì•± ì¶”ê°€
- ì˜¬ë°”ë¥¸ ì„¤ì • íŒŒì¼ ë‹¤ìš´ë¡œë“œ

### 3. Gitì— ì§ì ‘ ì»¤ë°‹
```bash
# .gitignore ìˆ˜ì •
# GoogleService-Info.plist  # ì£¼ì„ ì²˜ë¦¬

# íŒŒì¼ ì»¤ë°‹
git add ios/Runner/GoogleService-Info.plist
git commit -m "Fix Firebase configuration"
```

### 4. codemagic.yaml ì •ë¦¬
- í™˜ê²½ë³€ìˆ˜ ìŠ¤í¬ë¦½íŠ¸ ì œê±°
- Gitì˜ íŒŒì¼ì„ ì§ì ‘ ì‚¬ìš©

### 5. Firebase ì´ˆê¸°í™” ì¬í™œì„±í™”
```dart
try {
  await Firebase.initializeApp();
  FirebaseMessaging.onBackgroundMessage(_firebaseMessagingBackgroundHandler);
  print('Firebase initialized successfully');
} catch (e) {
  print('Firebase initialization error: $e');
}
```

---

## ğŸ“ ì£¼ìš” ë³€ê²½ì‚¬í•­

### Bundle ID ë³€ê²½
**íŒŒì¼:** `ios/Runner.xcodeproj/project.pbxproj`
- Debug, Release, Profile ëª¨ë‘ ë³€ê²½
- `sefra.kr`ë¡œ í†µì¼

### GoogleService-Info.plist
**ìœ„ì¹˜:** `ios/Runner/GoogleService-Info.plist`
```xml
<key>BUNDLE_ID</key>
<string>sefra.kr</string>
<key>GOOGLE_APP_ID</key>
<string>1:490906882581:ios:5e804c974a27906166741c</string>
```

### codemagic.yaml
**ë³€ê²½ ì „:**
```yaml
scripts:
  - name: Set up Firebase configuration
    script: |
      echo "$GOOGLE_SERVICE_INFO_PLIST" | base64 --decode > ios/Runner/GoogleService-Info.plist
  - name: Flutter build iOS
    script: |
      flutter build ios --release --no-codesign
```

**ë³€ê²½ í›„:**
```yaml
scripts:
  - name: Get Flutter packages
    script: |
      flutter packages pub get
# Codemagicê°€ ìë™ìœ¼ë¡œ ë¹Œë“œ ì²˜ë¦¬
```

---

## ğŸ“¦ ë¹Œë“œ íˆìŠ¤í† ë¦¬

| Build | Version | ìƒíƒœ | ë¬¸ì œ |
|-------|---------|------|------|
| Build 1 | 1.0.0 (1) | âŒ ì¶©ëŒ | GoogleService-Info.plist Bundle ID ë¶ˆì¼ì¹˜ |
| Build 2 | 1.0.0 (2) | âŒ ì¶©ëŒ | Firebase try-catch ì¶”ê°€í–ˆìœ¼ë‚˜ ì‹¤íŒ¨ |
| Build 3 | 1.0.0 (3) | âŒ ì¶©ëŒ | í™˜ê²½ë³€ìˆ˜ ë¬¸ì œ ì§€ì† |
| Build 4 | 1.0.0 (4) | âŒ ì¶©ëŒ | Firebase ì£¼ì„ ì²˜ë¦¬í–ˆìœ¼ë‚˜ ë„¤ì´í‹°ë¸Œ ë ˆë²¨ì—ì„œ ì´ˆê¸°í™” |
| Build 5 | 1.0.0 (5) | âŒ ì¶©ëŒ | ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ë¹„í™œì„±í™”í–ˆìœ¼ë‚˜ ì‹¤íŒ¨ |
| **Build 6** | **1.0.0 (6)** | **â³ ëŒ€ê¸° ì¤‘** | **GoogleService-Info.plist Git ì»¤ë°‹ (ì˜ˆìƒ: ì„±ê³µ)** |

---

## ğŸ“ ë°°ìš´ ì 

### 1. iOS ë„¤ì´í‹°ë¸Œ í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™”
Flutterì—ì„œ pubspec.yamlì— í”ŒëŸ¬ê·¸ì¸ì´ ìˆìœ¼ë©´:
```swift
GeneratedPluginRegistrant.register(with: self)
```
â†’ **ìë™ìœ¼ë¡œ ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™”**
â†’ Dart ì½”ë“œì—ì„œ ì£¼ì„ ì²˜ë¦¬í•´ë„ **ë¬´ì˜ë¯¸**

### 2. Firebase ì„¤ì • íŒŒì¼ í•„ìˆ˜
```
iOS: GoogleService-Info.plist
Android: google-services.json
```
â†’ ì—†ìœ¼ë©´ **segmentation fault** (ì—ëŸ¬ê°€ ì•„ë‹ˆë¼ **ì¶©ëŒ**)
â†’ try-catchë¡œ ì¡ì„ ìˆ˜ ì—†ìŒ

### 3. CI/CD í™˜ê²½ë³€ìˆ˜ì˜ í•œê³„
- Base64 ê°’ì´ ê¸¸ë©´ ì˜ë¦´ ìˆ˜ ìˆìŒ
- íŒŒì¼ì„ **Gitì— ì§ì ‘ ì»¤ë°‹**í•˜ëŠ” ê²Œ ë” ì•ˆì „

### 4. Bundle ID ì¼ê´€ì„±
ëª¨ë“  ì„¤ì • íŒŒì¼ì—ì„œ Bundle IDê°€ ì¼ì¹˜í•´ì•¼ í•¨:
- âœ… project.pbxproj
- âœ… GoogleService-Info.plist
- âœ… App Store Connect
- âœ… Provisioning Profile

---

## ğŸ“Š í˜„ì¬ ìƒíƒœ

### âœ… ì™„ë£Œ
- [x] Bundle ID ë³€ê²½ (sefra.kr)
- [x] ì˜¬ë°”ë¥¸ GoogleService-Info.plist ìƒì„±
- [x] Gitì— ì»¤ë°‹
- [x] Firebase ì´ˆê¸°í™” í™œì„±í™”
- [x] codemagic.yaml ì •ë¦¬
- [x] Build 6 í‘¸ì‹œ

### â³ ì§„í–‰ ì¤‘
- [ ] Build 6 Codemagic ë¹Œë“œ ëŒ€ê¸°
- [ ] TestFlight ì—…ë¡œë“œ í™•ì¸
- [ ] ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸
- [ ] FCM ì‘ë™ í™•ì¸

---

## ğŸ”— ì°¸ê³ 

**GitHub:** https://github.com/zanoone/sefra
**Codemagic:** https://codemagic.io/apps
**App Store Connect:** https://appstoreconnect.apple.com

**ì‘ì—…ì¼:** 2025-11-06
**ì†Œìš” ì‹œê°„:** ì•½ 3ì‹œê°„
**í•µì‹¬ ë¬¸ì œ:** GoogleService-Info.plist ëˆ„ë½/ì˜ëª»ëœ ì„¤ì •
**í•´ê²° ë°©ë²•:** Gitì— ì§ì ‘ ì»¤ë°‹

---

**Build 6 ì„±ê³µ ì˜ˆìƒ! ğŸ‰**
