# 2025-11-06 ì‘ì—… ë‚´ìš©

## âœ… TestFlight ì²« ì—…ë¡œë“œ ì„±ê³µ!

### Build 1 ì„±ê³µ
- Version: 1.0.0 (1)
- Bundle ID: `sefra.kr`ë¡œ ë³€ê²½ ì™„ë£Œ
- App Store Connectì— ì—…ë¡œë“œ ì„±ê³µ
- ìƒíƒœ: ì²˜ë¦¬ ì¤‘ â†’ í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ì™„ë£Œ

---

## ğŸš¨ ì‹¬ê°í•œ ë¬¸ì œ ë°œê²¬: ì•± ì¶©ëŒ

### ì¦ìƒ
```
Exception Type: EXC_BAD_ACCESS (SIGSEGV)
Exception Subtype: KERN_INVALID_ADDRESS at 0x0000000000000000
Termination Reason: SIGNAL 11 Segmentation fault: 11
```

**ì•± ì‹¤í–‰ í›„ 0.1ì´ˆ ë§Œì— ì¦‰ì‹œ ì¶©ëŒ!**

---

## ğŸ” ë””ë²„ê¹… ê³¼ì • (Build 1 â†’ Build 6)

### Build 2-3: Firebase ì—ëŸ¬ ì²˜ë¦¬ ì‹œë„
**ì‹œë„:**
- Firebase.initializeApp()ì„ try-catchë¡œ ê°ìŒˆ
- ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ ì•±ì´ ê³„ì† ì‹¤í–‰ë˜ë„ë¡ ì²˜ë¦¬

**ê²°ê³¼:** âŒ ì‹¤íŒ¨ - ì—¬ì „íˆ ì¶©ëŒ

**ì›ì¸:** Firebaseê°€ exceptionì„ throwí•˜ì§€ ì•Šê³  ì§ì ‘ segmentation fault ë°œìƒ

---

### Build 4: Firebase ì™„ì „ ë¹„í™œì„±í™”
**ì‹œë„:**
- main.dartì—ì„œ Firebase ì´ˆê¸°í™” ì£¼ì„ ì²˜ë¦¬

**ê²°ê³¼:** âŒ ì‹¤íŒ¨ - ì—¬ì „íˆ ì¶©ëŒ!

**ê¹¨ë‹¬ìŒ:**
```swift
GeneratedPluginRegistrant.register(with: self)
```
iOS ë„¤ì´í‹°ë¸Œ ë ˆë²¨ì—ì„œ Firebase í”ŒëŸ¬ê·¸ì¸ì´ **ìë™ìœ¼ë¡œ ì´ˆê¸°í™”**ë¨!
Dart ì½”ë“œì—ì„œ ì£¼ì„ ì²˜ë¦¬í•´ë„ **ì˜ë¯¸ ì—†ìŒ**!

---

### Build 5: Firebase ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ë¹„í™œì„±í™”
**ì‹œë„:**
- codemagic.yamlì˜ GoogleService-Info.plist ìƒì„± ìŠ¤í¬ë¦½íŠ¸ ì£¼ì„ ì²˜ë¦¬

**ê²°ê³¼:** âŒ ì‹¤íŒ¨ - ì—¬ì „íˆ ì¶©ëŒ

**ì´ìœ :** Firebase í”ŒëŸ¬ê·¸ì¸ì´ GoogleService-Info.plistë¥¼ ì°¾ìœ¼ë ¤ê³  ì‹œë„í•˜ì§€ë§Œ íŒŒì¼ì´ ì—†ì–´ì„œ ì¶©ëŒ

---

## ğŸ¯ ê·¼ë³¸ ì›ì¸ ë°œê²¬!

### ë¬¸ì œ
1. **ë¡œì»¬ì—ëŠ” GoogleService-Info.plist ì¡´ì¬**
   - í•˜ì§€ë§Œ Bundle IDê°€ `com.sefra.sefraFlutter`ë¡œ **ì˜ëª»ë¨**
   - `.gitignore`ì— í¬í•¨ë˜ì–´ **Gitì— ì»¤ë°‹ ì•ˆ ë¨**

2. **Codemagic í™˜ê²½ë³€ìˆ˜ ë°©ì‹ ì‹¤íŒ¨**
   ```yaml
   echo "$GOOGLE_SERVICE_INFO_PLIST" | base64 --decode > ios/Runner/GoogleService-Info.plist
   ```
   - í™˜ê²½ë³€ìˆ˜ê°€ ì œëŒ€ë¡œ ì„¤ì •ë˜ì§€ ì•ŠìŒ
   - ê°’ì´ ì˜ë¦¬ê±°ë‚˜ ëˆ„ë½ë¨

3. **ê²°ê³¼**
   ```
   Codemagic ë¹Œë“œ ì‹œ
   â†’ GoogleService-Info.plist ì—†ìŒ ë˜ëŠ” ì˜ëª»ëœ ë‚´ìš©
   â†’ Firebase í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” ì‹¤íŒ¨
   â†’ Segmentation Fault
   ```

---

## âœ… ìµœì¢… í•´ê²°ì±… (Build 6)

### 1. Bundle ID ë³€ê²½
```
com.sefra.sefraFlutter â†’ sefra.kr
```

### 2. ì˜¬ë°”ë¥¸ GoogleService-Info.plist ìƒì„±
**Bundle ID: sefra.kr**
- Firebase Consoleì—ì„œ ìƒˆ iOS ì•± ì¶”ê°€
- ì˜¬ë°”ë¥¸ ì„¤ì • íŒŒì¼ ë‹¤ìš´ë¡œë“œ

### 3. Gitì— ì§ì ‘ ì»¤ë°‹
```bash
# .gitignore ìˆ˜ì •
# GoogleService-Info.plist  # ì£¼ì„ ì²˜ë¦¬

# íŒŒì¼ ì»¤ë°‹
git add ios/Runner/GoogleService-Info.plist
git commit -m "Fix Firebase configuration"
```

### 4. codemagic.yaml ì •ë¦¬
- í™˜ê²½ë³€ìˆ˜ ìŠ¤í¬ë¦½íŠ¸ ì œê±°
- Gitì˜ íŒŒì¼ì„ ì§ì ‘ ì‚¬ìš©

### 5. Firebase ì´ˆê¸°í™” ì¬í™œì„±í™”
```dart
try {
  await Firebase.initializeApp();
  FirebaseMessaging.onBackgroundMessage(_firebaseMessagingBackgroundHandler);
  print('Firebase initialized successfully');
} catch (e) {
  print('Firebase initialization error: $e');
}
```

---

## ğŸ“ ì£¼ìš” ë³€ê²½ì‚¬í•­

### Bundle ID ë³€ê²½
**íŒŒì¼:** `ios/Runner.xcodeproj/project.pbxproj`
- Debug, Release, Profile ëª¨ë‘ ë³€ê²½
- `sefra.kr`ë¡œ í†µì¼

### GoogleService-Info.plist
**ìœ„ì¹˜:** `ios/Runner/GoogleService-Info.plist`
```xml
<key>BUNDLE_ID</key>
<string>sefra.kr</string>
<key>GOOGLE_APP_ID</key>
<string>1:490906882581:ios:5e804c974a27906166741c</string>
```

### codemagic.yaml
**ë³€ê²½ ì „:**
```yaml
scripts:
  - name: Set up Firebase configuration
    script: |
      echo "$GOOGLE_SERVICE_INFO_PLIST" | base64 --decode > ios/Runner/GoogleService-Info.plist
  - name: Flutter build iOS
    script: |
      flutter build ios --release --no-codesign
```

**ë³€ê²½ í›„:**
```yaml
scripts:
  - name: Get Flutter packages
    script: |
      flutter packages pub get
# Codemagicê°€ ìë™ìœ¼ë¡œ ë¹Œë“œ ì²˜ë¦¬
```

---

## ğŸ“¦ ë¹Œë“œ íˆìŠ¤í† ë¦¬

| Build | Version | ìƒíƒœ | ë¬¸ì œ |
|-------|---------|------|------|
| Build 1 | 1.0.0 (1) | âŒ ì¶©ëŒ | GoogleService-Info.plist Bundle ID ë¶ˆì¼ì¹˜ |
| Build 2 | 1.0.0 (2) | âŒ ì¶©ëŒ | Firebase try-catch ì¶”ê°€í–ˆìœ¼ë‚˜ ì‹¤íŒ¨ |
| Build 3 | 1.0.0 (3) | âŒ ì¶©ëŒ | í™˜ê²½ë³€ìˆ˜ ë¬¸ì œ ì§€ì† |
| Build 4 | 1.0.0 (4) | âŒ ì¶©ëŒ | Firebase ì£¼ì„ ì²˜ë¦¬í–ˆìœ¼ë‚˜ ë„¤ì´í‹°ë¸Œ ë ˆë²¨ì—ì„œ ì´ˆê¸°í™” |
| Build 5 | 1.0.0 (5) | âŒ ì¶©ëŒ | ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ë¹„í™œì„±í™”í–ˆìœ¼ë‚˜ ì‹¤íŒ¨ |
| **Build 6** | **1.0.0 (6)** | **â³ ëŒ€ê¸° ì¤‘** | **GoogleService-Info.plist Git ì»¤ë°‹ (ì˜ˆìƒ: ì„±ê³µ)** |

---

## ğŸ“ ë°°ìš´ ì 

### 1. iOS ë„¤ì´í‹°ë¸Œ í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™”
Flutterì—ì„œ pubspec.yamlì— í”ŒëŸ¬ê·¸ì¸ì´ ìˆìœ¼ë©´:
```swift
GeneratedPluginRegistrant.register(with: self)
```
â†’ **ìë™ìœ¼ë¡œ ëª¨ë“  í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™”**
â†’ Dart ì½”ë“œì—ì„œ ì£¼ì„ ì²˜ë¦¬í•´ë„ **ë¬´ì˜ë¯¸**

### 2. Firebase ì„¤ì • íŒŒì¼ í•„ìˆ˜
```
iOS: GoogleService-Info.plist
Android: google-services.json
```
â†’ ì—†ìœ¼ë©´ **segmentation fault** (ì—ëŸ¬ê°€ ì•„ë‹ˆë¼ **ì¶©ëŒ**)
â†’ try-catchë¡œ ì¡ì„ ìˆ˜ ì—†ìŒ

### 3. CI/CD í™˜ê²½ë³€ìˆ˜ì˜ í•œê³„
- Base64 ê°’ì´ ê¸¸ë©´ ì˜ë¦´ ìˆ˜ ìˆìŒ
- íŒŒì¼ì„ **Gitì— ì§ì ‘ ì»¤ë°‹**í•˜ëŠ” ê²Œ ë” ì•ˆì „

### 4. Bundle ID ì¼ê´€ì„±
ëª¨ë“  ì„¤ì • íŒŒì¼ì—ì„œ Bundle IDê°€ ì¼ì¹˜í•´ì•¼ í•¨:
- âœ… project.pbxproj
- âœ… GoogleService-Info.plist
- âœ… App Store Connect
- âœ… Provisioning Profile

---

## ğŸ“Š í˜„ì¬ ìƒíƒœ

### âœ… ì™„ë£Œ
- [x] Bundle ID ë³€ê²½ (sefra.kr)
- [x] ì˜¬ë°”ë¥¸ GoogleService-Info.plist ìƒì„±
- [x] Gitì— ì»¤ë°‹
- [x] Firebase ì´ˆê¸°í™” í™œì„±í™”
- [x] codemagic.yaml ì •ë¦¬
- [x] Build 6 í‘¸ì‹œ

### â³ ì§„í–‰ ì¤‘
- [ ] Build 6 Codemagic ë¹Œë“œ ëŒ€ê¸°
- [ ] TestFlight ì—…ë¡œë“œ í™•ì¸
- [ ] ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸
- [ ] FCM ì‘ë™ í™•ì¸

---

## ğŸ”— ì°¸ê³ 

**GitHub:** https://github.com/zanoone/sefra
**Codemagic:** https://codemagic.io/apps
**App Store Connect:** https://appstoreconnect.apple.com

**ì‘ì—…ì¼:** 2025-11-06
**ì†Œìš” ì‹œê°„:** ì•½ 3ì‹œê°„
**í•µì‹¬ ë¬¸ì œ:** GoogleService-Info.plist ëˆ„ë½/ì˜ëª»ëœ ì„¤ì •
**í•´ê²° ë°©ë²•:** Gitì— ì§ì ‘ ì»¤ë°‹

---

## ğŸ”´ Build 6-9: ê³„ì†ëœ í¬ë˜ì‹œì™€ ê·¼ë³¸ ì›ì¸ ë°œê²¬

### Build 6 ê²°ê³¼: SIGSEGV (ì—¬ì „íˆ ì¶©ëŒ)
- GoogleService-Info.plistëŠ” ìˆì§€ë§Œ **ë„¤ì´í‹°ë¸Œ Firebase ì´ˆê¸°í™” ì—†ìŒ**
- Flutter í”ŒëŸ¬ê·¸ì¸ë§Œìœ¼ë¡œëŠ” ë¶ˆì¶©ë¶„

---

### Build 7: Firebase ë„¤ì´í‹°ë¸Œ ì´ˆê¸°í™” ì¶”ê°€
**ì‹œë„:**
```swift
// AppDelegate.swift
import Firebase
FirebaseApp.configure()
```

**ê²°ê³¼:** âŒ SIGABRT (ë‹¤ë¥¸ ì¢…ë¥˜ì˜ í¬ë˜ì‹œ)
- NSException thrown
- Firebase ì´ˆê¸°í™”ëŠ” ì‹œë„í–ˆìœ¼ë‚˜ ë‹¤ë¥¸ ë¬¸ì œ ë°œìƒ

---

### Build 8: Firebase ì´ˆê¸°í™” ì œê±° (ì›ë³µ)
**ì‹œë„:**
- AppDelegateì—ì„œ Firebase ì´ˆê¸°í™” ì œê±°
- Flutter í”ŒëŸ¬ê·¸ì¸ë§Œ ì‚¬ìš©

**ê²°ê³¼:** âŒ SIGSEGV (Build 6ê³¼ ë™ì¼)
- ë‹¤ì‹œ null pointer ì—ëŸ¬

---

### Build 9: Podfileì— Firebase SDK ëª…ì‹œì  ì¶”ê°€
**ì‹œë„:**
```ruby
# Podfile
platform :ios, '15.0'  # 13.0 â†’ 15.0 ì—…ê·¸ë ˆì´ë“œ

pod 'Firebase/Core'
pod 'Firebase/Messaging'

# AppDelegate.swift
import FirebaseCore
FirebaseApp.configure()
```

**ê²°ê³¼:** âŒ SIGABRT
- Build 7ê³¼ ë™ì¼í•œ ì—ëŸ¬
- Firebase SDKëŠ” ì„¤ì¹˜ë˜ì—ˆìœ¼ë‚˜ ì—¬ì „íˆ ì¶©ëŒ

---

## ğŸ¯ ì§„ì§œ ê·¼ë³¸ ì›ì¸ ë°œê²¬!

### Build 7, 9 í¬ë˜ì‹œ ë¶„ì„
```
Exception Type: EXC_CRASH (SIGABRT)
Runner offset 116924

Last Exception Backtrace:
CoreFoundation - NSException raise
```

**ë¬¸ì œ 1: Static Linkage ì¶©ëŒ**
```ruby
# Podfile (ë¬¸ì œ)
use_frameworks! :linkage => :static  # âŒ Firebaseì™€ ì¶©ëŒ
```
Firebase SDKëŠ” dynamic frameworks í•„ìš”!

**ë¬¸ì œ 2: Delegate ì¶©ëŒ**
```swift
// AppDelegate.swift (ë¬¸ì œ)
UNUserNotificationCenter.current().delegate = self  // âŒ
```
`firebase_messaging` í”ŒëŸ¬ê·¸ì¸ì´ ì´ë¯¸ delegate ìë™ ì„¤ì •!

**ë¬¸ì œ 3: iOS ì„¤ì • ëˆ„ë½**
- âŒ Push Notifications Entitlement ì—†ìŒ
- âŒ UIBackgroundModes ì„¤ì • ì—†ìŒ
- âŒ Runner.entitlements íŒŒì¼ ì—†ìŒ

---

## âœ… ìµœì¢… í•´ê²°ì±… (Build 10-13)

### Build 10: Dynamic Linkageë¡œ ë³€ê²½
```ruby
# Podfile
use_frameworks!  # :linkage => :static ì œê±°
```

### Build 11: Delegate ì¶©ëŒ ì œê±°
```swift
// AppDelegate.swift
// âŒ ì œê±°ë¨
// if #available(iOS 10.0, *) {
//   UNUserNotificationCenter.current().delegate = self
// }
```

### Build 12: iOS Push Notifications ì„¤ì • ì¶”ê°€

**1. Runner.entitlements ìƒì„±**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>aps-environment</key>
    <string>production</string>
</dict>
</plist>
```

**2. Info.plistì— Background Modes ì¶”ê°€**
```xml
<key>UIBackgroundModes</key>
<array>
    <string>fetch</string>
    <string>remote-notification</string>
</array>
```

### Build 13: Entitlements ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€

**codemagic.yaml**
```yaml
- name: Setup iOS Entitlements
  script: |
    # Ensure Runner.entitlements exists
    if [ ! -f ios/Runner/Runner.entitlements ]; then
      cat > ios/Runner/Runner.entitlements << 'ENTITLEMENTS'
    <?xml version="1.0" encoding="UTF-8"?>
    ...
    ENTITLEMENTS
    fi
```

---

## ğŸ“¦ ì „ì²´ ë¹Œë“œ íˆìŠ¤í† ë¦¬

| Build | Version | ë³€ê²½ì‚¬í•­ | ì—ëŸ¬ íƒ€ì… | ì›ì¸ |
|-------|---------|---------|----------|------|
| 1 | 1.0.0 (1) | ì´ˆê¸° ì—…ë¡œë“œ | SIGSEGV | GoogleService-Info.plist ëˆ„ë½ |
| 2-5 | 1.0.0 (2-5) | ë‹¤ì–‘í•œ ì‹œë„ | SIGSEGV | ë™ì¼ |
| 6 | 1.0.0 (6) | GoogleService-Info.plist Git ì»¤ë°‹ | SIGSEGV | ë„¤ì´í‹°ë¸Œ ì´ˆê¸°í™” ì—†ìŒ |
| 7 | 1.0.0 (7) | AppDelegate Firebase ì´ˆê¸°í™” ì¶”ê°€ | **SIGABRT** | Delegate ì¶©ëŒ |
| 8 | 1.0.0 (8) | Firebase ì´ˆê¸°í™” ì œê±° (ì›ë³µ) | SIGSEGV | ì´ˆê¸°í™” ì•ˆ ë¨ |
| 9 | 1.0.0 (9) | Podfile Firebase SDK ì¶”ê°€ | **SIGABRT** | Static linkage + Delegate ì¶©ëŒ |
| 10 | 1.0.0 (10) | Dynamic linkageë¡œ ë³€ê²½ | ì˜ˆìƒ: SIGABRT | Delegate ì¶©ëŒ ë‚¨ìŒ |
| 11 | 1.0.0 (11) | Delegate ì¶©ëŒ ì œê±° | ì˜ˆìƒ: ë¶€ë¶„ì„±ê³µ | Entitlements ì—†ìŒ |
| 12 | 1.0.0 (12) | Push Notifications ì„¤ì • ì¶”ê°€ | ì˜ˆìƒ: ë¶€ë¶„ì„±ê³µ | Entitlements ë¯¸ë“±ë¡ |
| **13** | **1.0.0 (13)** | **Entitlements ìë™í™”** | **ì˜ˆìƒ: ì„±ê³µ** | **ëª¨ë“  ë¬¸ì œ í•´ê²°** |

---

## ğŸ“ ì¶”ê°€ë¡œ ë°°ìš´ ì 

### 5. Firebase + FlutterFire ì˜¬ë°”ë¥¸ ì„¤ì •
**í•„ìš”í•œ 3ê°€ì§€:**
1. âœ… Podfileì— Firebase SDK ì¶”ê°€ (`pod 'Firebase/Core'`)
2. âœ… AppDelegateì—ì„œ ë„¤ì´í‹°ë¸Œ ì´ˆê¸°í™” (`FirebaseApp.configure()`)
3. âœ… main.dartì—ì„œ Dart ì´ˆê¸°í™” (`Firebase.initializeApp()`)

### 6. Dynamic vs Static Frameworks
- Firebase SDKëŠ” **dynamic frameworks** í•„ìˆ˜
- `use_frameworks! :linkage => :static`ì€ Firebaseì™€ ì¶©ëŒ
- ëŸ°íƒ€ì„ì— ì‹¬ë³¼ì„ ì°¾ì§€ ëª»í•´ NSException ë°œìƒ

### 7. Delegate ìë™ ê´€ë¦¬
- `firebase_messaging` í”ŒëŸ¬ê·¸ì¸ì´ ìë™ìœ¼ë¡œ UNUserNotificationCenter delegate ì„¤ì •
- ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ì¶©ëŒ ë°œìƒ
- ìµœì‹  ë²„ì „ì€ ì¤‘ë³µ ì„¤ì •ì„ ê°ì§€í•˜ê³  í¬ë˜ì‹œ

### 8. iOS Push Notifications í•„ìˆ˜ ì„¤ì •
**íŒŒì¼:**
- `Runner.entitlements`: APNS ê¶Œí•œ (aps-environment)
- `Info.plist`: UIBackgroundModes (remote-notification)

**í™˜ê²½:**
- Development: Xcode ì§ì ‘ ì„¤ì¹˜
- **Production**: TestFlight + App Store (ë² íƒ€ë„ production!)

### 9. iOS Deployment Target
- iOS 13.0 â†’ 15.0ìœ¼ë¡œ ìƒí–¥
- ìµœì‹  Firebase SDK í˜¸í™˜ì„±
- iPhone 14 (iOS 17.6.1) í…ŒìŠ¤íŠ¸ í™˜ê²½ ê³ ë ¤

---

## ğŸ“Š ìµœì¢… ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… Firebase ì„¤ì •
- [x] GoogleService-Info.plist (Bundle ID: sefra.kr)
- [x] Podfile: Firebase/Core, Firebase/Messaging
- [x] AppDelegate.swift: FirebaseApp.configure()
- [x] main.dart: Firebase.initializeApp()

### âœ… iOS ì„¤ì •
- [x] Podfile: Dynamic frameworks (use_frameworks!)
- [x] Podfile: iOS 15.0 deployment target
- [x] Runner.entitlements: aps-environment = production
- [x] Info.plist: UIBackgroundModes (remote-notification, fetch)
- [x] AppDelegate: NO delegate conflict

### âœ… CodeMagic ì„¤ì •
- [x] flutter clean
- [x] pod deintegrate + pod install
- [x] Entitlements ìë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
- [x] TestFlight ìë™ ì—…ë¡œë“œ

---

## ğŸ”§ í•µì‹¬ ë¬¸ì œ ì •ë¦¬

### í¬ë˜ì‹œ ì›ì¸ 3ê°€ì§€
1. **Firebase ë„¤ì´í‹°ë¸Œ ì´ˆê¸°í™” ëˆ„ë½** â†’ SIGSEGV
2. **Static linkage + Delegate ì¶©ëŒ** â†’ SIGABRT (NSException)
3. **Push Notifications ì„¤ì • ëˆ„ë½** â†’ FCM ë“±ë¡ ì‹¤íŒ¨

### í•´ê²° ë°©ë²•
1. âœ… AppDelegateì—ì„œ FirebaseApp.configure() ì¶”ê°€
2. âœ… Dynamic frameworks ì‚¬ìš©
3. âœ… UNUserNotificationCenter delegate ìˆ˜ë™ ì„¤ì • ì œê±°
4. âœ… Runner.entitlements + UIBackgroundModes ì¶”ê°€

---

## ğŸ“Š í˜„ì¬ ìƒíƒœ (Build 13)

### âœ… ì™„ë£Œ
- [x] Firebase ì™„ì „ ì„¤ì • (ë„¤ì´í‹°ë¸Œ + Dart)
- [x] Push Notifications Entitlement ì¶”ê°€
- [x] Background Modes ì„¤ì •
- [x] Dynamic frameworks ì ìš©
- [x] Delegate ì¶©ëŒ í•´ê²°
- [x] iOS 15.0 deployment target
- [x] Production APNS í™˜ê²½
- [x] Entitlements ìë™í™” ìŠ¤í¬ë¦½íŠ¸
- [x] Build 13 í‘¸ì‹œ

### â³ ì§„í–‰ ì¤‘
- [ ] Build 13 CodeMagic ë¹Œë“œ ëŒ€ê¸°
- [ ] TestFlight ì—…ë¡œë“œ í™•ì¸
- [ ] ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸
- [ ] FCM í† í° ë°›ê¸° í™•ì¸
- [ ] Push ì•Œë¦¼ í…ŒìŠ¤íŠ¸

---

## ğŸ”— ì°¸ê³ 

**GitHub:** https://github.com/zanoone/sefra
**CodeMagic:** https://codemagic.io/apps
**App Store Connect:** https://appstoreconnect.apple.com

**ì‘ì—…ì¼:** 2025-11-06
**ì†Œìš” ì‹œê°„:** ì•½ 8ì‹œê°„
**ì´ ë¹Œë“œ ì‹œë„:** 13íšŒ
**í•µì‹¬ ë¬¸ì œ:**
1. GoogleService-Info.plist ëˆ„ë½ (Build 1-5)
2. Firebase ë„¤ì´í‹°ë¸Œ ì´ˆê¸°í™” ëˆ„ë½ (Build 6, 8)
3. Static linkage + Delegate ì¶©ëŒ (Build 7, 9)
4. iOS Push Notifications ì„¤ì • ëˆ„ë½ (Build 10-12)

**ìµœì¢… í•´ê²°:**
- Dynamic frameworks
- Firebase ë„¤ì´í‹°ë¸Œ + Dart ì´ˆê¸°í™”
- Delegate ì¶©ëŒ ì œê±°
- Push Notifications ì™„ì „ ì„¤ì •

---

## ğŸ”´ Build 13-15: GoogleService-Info.plistì™€ InAppWebView ë¬¸ì œ

### Build 13 ê²°ê³¼: SIGABRT (ì—¬ì „íˆ ì¶©ëŒ)
**Date/Time:** 2025-11-06 13:27:22
**Version:** 1.0.0 (13)

**ì—ëŸ¬:**
```
Exception Type: EXC_CRASH (SIGABRT)
Last Exception Backtrace:
FirebaseCore 0x1028a8414
Runner (AppDelegate)
```

**ì›ì¸:** GoogleService-Info.plist íŒŒì¼ì€ Gitì— ìˆì—ˆì§€ë§Œ **Xcode í”„ë¡œì íŠ¸ì— ë“±ë¡ë˜ì§€ ì•ŠìŒ**

---

## ğŸ¯ ê²°ì •ì  ë¬¸ì œ ë°œê²¬!

### ë¬¸ì œ ë¶„ì„
```
ios/Runner/GoogleService-Info.plist (íŒŒì¼ ì¡´ì¬) âœ…
  â†“
âŒ project.pbxprojì— ì°¸ì¡° ì—†ìŒ!
  â†“
ë¹Œë“œ ì‹œ ì•± ë²ˆë“¤ì— í¬í•¨ ì•ˆ ë¨
  â†“
FirebaseApp.configure() ì‹¤íŒ¨ â†’ SIGABRT
```

**íŒŒì¼ë§Œ Gitì— ìˆë‹¤ê³  ë¹Œë“œì— í¬í•¨ë˜ëŠ” ê²Œ ì•„ë‹˜!**

Xcode í”„ë¡œì íŠ¸ íŒŒì¼(project.pbxproj)ì— ëª…ì‹œì ìœ¼ë¡œ ë“±ë¡í•´ì•¼ í•¨:
- PBXBuildFile (Copy Bundle Resources)
- PBXFileReference
- PBXGroup (Runner)
- PBXResourcesBuildPhase

---

## âœ… Build 14: ëª¨ë“  Firebase ë¬¸ì œ í•´ê²°!

### ìˆ˜ì • ì‚¬í•­ (ì´ 8ê°œ ì»¤ë°‹)

**1. CODE_SIGN_ENTITLEMENTS ì¶”ê°€ (358e5d3)**
```
Debug, Release, Profile ì„¤ì •ì— ëª¨ë‘ ì¶”ê°€:
CODE_SIGN_ENTITLEMENTS = Runner/Runner.entitlements
```

**2. Podfile Firebase SDK ì œê±° (199f319)**
```ruby
# ì œê±°ë¨:
# pod 'Firebase/Core'
# pod 'Firebase/Messaging'
# firebase_messaging í”ŒëŸ¬ê·¸ì¸ì´ ìë™ìœ¼ë¡œ í¬í•¨
```

**3. Info.plist ìˆ˜ì¶œ ê·œì • ì¤€ìˆ˜ (ef80e0a)**
```xml
<key>ITSAppUsesNonExemptEncryption</key>
<false/>
```

**4. AppDelegate Firebase ì´ˆê¸°í™” ì œê±° (128d926)**
```swift
// ì œê±°ë¨:
// import FirebaseCore
// FirebaseApp.configure()
// firebase_messaging í”ŒëŸ¬ê·¸ì¸ì´ ìë™ ì´ˆê¸°í™”
```

**5. GoogleService-Info.plistë¥¼ Xcode í”„ë¡œì íŠ¸ì— ì¶”ê°€ (24dd96e)** â† í•µì‹¬!
```
project.pbxprojì— 4ê°œ ì„¹ì…˜ ì¶”ê°€:
- PBXBuildFile: 9A1B2C3D4E5F60708090A0B0
- PBXFileReference: 9A1B2C3D4E5F60708090A0B1
- PBXGroup (Runner ê·¸ë£¹)
- PBXResourcesBuildPhase (Copy Bundle Resources)
```

**6. í™˜ê²½ë³€ìˆ˜ ì •ë¦¬ (079a00f)**
```yaml
# codemagic.yamlì—ì„œ ì œê±°:
# GOOGLE_SERVICE_INFO_PLIST
```

**7. ë²„ì „ ì—…ë°ì´íŠ¸ (582757d)**
```
version: 1.0.0+14
```

**8. Push Notifications ì„¤ì •**
- Apple Developerì—ì„œ Bundle IDì— Push Notifications capability ì¶”ê°€
- ìƒˆ Provisioning Profile ìƒì„± ë° CodeMagic ì—…ë¡œë“œ

---

### Build 14 ê²°ê³¼: Firebase ì„±ê³µ! ğŸ‰

**Date/Time:** 2025-11-06 14:26:05
**Version:** 1.0.0 (14)

**í¬ë˜ì‹œ ìœ„ì¹˜ ë³€ê²½:**
```
ì´ì „ (Build 13): FirebaseCoreì—ì„œ ì¶©ëŒ âŒ
ì§€ê¸ˆ (Build 14): flutter_inappwebview_iosì—ì„œ ì¶©ëŒ âŒ
```

**âœ… Firebase ì •ìƒ ì‘ë™ í™•ì¸!**

**ìƒˆë¡œìš´ ì—ëŸ¬:**
```
Exception Type: EXC_BAD_ACCESS (SIGSEGV)
Thread 0 Crashed:
0   libswiftCore.dylib - swift_getObjectType (null ì ‘ê·¼)
1   flutter_inappwebview_ios (InAppWebView í”ŒëŸ¬ê·¸ì¸)
```

---

## âš¡ Build 15: InAppWebView ë¬¸ì œ í•´ê²° ì‹œë„

### ìˆ˜ì • ì‚¬í•­ (fc947be)

**InAppWebView í”ŒëŸ¬ê·¸ì¸ ì—…ë°ì´íŠ¸**
```yaml
# pubspec.yaml
flutter_inappwebview: ^6.0.0 â†’ ^6.1.5
version: 1.0.0+15
```

**ë¶„ì„:**
- ì•± ì „ì²´ê°€ WebView ê¸°ë°˜ (ì œê±° ë¶ˆê°€)
- í”ŒëŸ¬ê·¸ì¸ ì´ˆê¸°í™” ë‹¨ê³„ì—ì„œ null ì°¸ì¡° í¬ë˜ì‹œ
- ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì—¬ ë²„ê·¸ ìˆ˜ì • ì‹œë„

---

## ğŸ“¦ ì „ì²´ ë¹Œë“œ íˆìŠ¤í† ë¦¬ (ìµœì¢…)

| Build | Version | ì£¼ìš” ë³€ê²½ì‚¬í•­ | ì—ëŸ¬ | ìƒíƒœ |
|-------|---------|--------------|------|------|
| 1-5 | 1.0.0 (1-5) | GoogleService-Info.plist ì‹œë„ | SIGSEGV | âŒ |
| 6 | 1.0.0 (6) | Git ì»¤ë°‹ | SIGSEGV | âŒ |
| 7 | 1.0.0 (7) | Firebase ë„¤ì´í‹°ë¸Œ ì´ˆê¸°í™” | SIGABRT | âŒ |
| 8 | 1.0.0 (8) | ì›ë³µ | SIGSEGV | âŒ |
| 9 | 1.0.0 (9) | Podfile Firebase SDK | SIGABRT | âŒ |
| 10 | 1.0.0 (10) | Dynamic frameworks | SIGABRT | âŒ |
| 11 | 1.0.0 (11) | Delegate ì œê±° | SIGABRT | âŒ |
| 12 | 1.0.0 (12) | Push Notifications | SIGABRT | âŒ |
| 13 | 1.0.0 (13) | Entitlements ìë™í™” | SIGABRT | âŒ Firebase |
| **14** | **1.0.0 (14)** | **project.pbxproj ë“±ë¡** | **SIGSEGV** | **âœ… Firebase â†’ âŒ WebView** |
| 15 | 1.0.0 (15) | InAppWebView ì—…ë°ì´íŠ¸ | ? | â³ ëŒ€ê¸° |

---

## ğŸ“ ìµœì¢… ë°°ìš´ ì 

### 10. Xcode í”„ë¡œì íŠ¸ íŒŒì¼ êµ¬ì¡°
**íŒŒì¼ì„ Gitì—ë§Œ ì¶”ê°€í•´ë„ ì•ˆ ë¨!**

iOS í”„ë¡œì íŠ¸ì—ì„œ ë¦¬ì†ŒìŠ¤ íŒŒì¼ì´ ë¹Œë“œì— í¬í•¨ë˜ë ¤ë©´:
1. âœ… íŒŒì¼ì´ ì‹¤ì œë¡œ ì¡´ì¬ (ios/Runner/íŒŒì¼ëª…)
2. âœ… **project.pbxprojì— ë“±ë¡** â† í•µì‹¬!
   - PBXFileReference (íŒŒì¼ ì •ì˜)
   - PBXGroup (í”„ë¡œì íŠ¸ íŠ¸ë¦¬)
   - PBXBuildFile (ë¹Œë“œ íŒŒì¼)
   - PBXResourcesBuildPhase (Copy Bundle Resources)

**ë¹„ìœ :**
- ì±…ì„ ì„œì¬ì— ë†“ìŒ (íŒŒì¼ ì¶”ê°€) â†’ ì‚¬ëŒë“¤ì´ ëª» ì°¾ìŒ
- ë„ì„œê´€ ëª©ë¡ì— ë“±ë¡ (project.pbxproj) â†’ ì°¾ì„ ìˆ˜ ìˆìŒ!

### 11. Git vs Xcode í”„ë¡œì íŠ¸
```
Gitì— íŒŒì¼ ì»¤ë°‹ â‰  ë¹Œë“œì— í¬í•¨
Gitì— íŒŒì¼ ì»¤ë°‹ + project.pbxproj ë“±ë¡ = ë¹Œë“œì— í¬í•¨
```

### 12. Firebase ì„¤ì • ì™„ì „ í•´ê²°
**ìµœì¢… ì„¤ì •:**
- âŒ AppDelegateì—ì„œ FirebaseApp.configure() ë¶ˆí•„ìš”
- âŒ Podfileì— Firebase SDK ëª…ì‹œì  ì¶”ê°€ ë¶ˆí•„ìš”
- âœ… GoogleService-Info.plistë¥¼ project.pbxprojì— ë“±ë¡
- âœ… firebase_messaging í”ŒëŸ¬ê·¸ì¸ì´ ìë™ìœ¼ë¡œ ëª¨ë“  ê²ƒ ì²˜ë¦¬

### 13. CodeMagic í™˜ê²½ë³€ìˆ˜ vs Git ì»¤ë°‹
**í™˜ê²½ë³€ìˆ˜ ë°©ì‹ (ì‹¤íŒ¨):**
- Base64 ê°’ì´ ê¸¸ë©´ ì˜ë¦¼
- ë””ì½”ë”© ìŠ¤í¬ë¦½íŠ¸ í•„ìš”
- ì—ëŸ¬ ë””ë²„ê¹… ì–´ë ¤ì›€

**Git ì§ì ‘ ì»¤ë°‹ (ì„±ê³µ):**
- íŒŒì¼ ê·¸ëŒ€ë¡œ ì €ì¥
- ë²„ì „ ê´€ë¦¬ ê°€ëŠ¥
- ê°„ë‹¨í•˜ê³  ì•ˆì •ì 

---

## ğŸ“Š í˜„ì¬ ìƒíƒœ (Build 15)

### âœ… ì™„ì „ í•´ê²°
- [x] **Firebase ì´ˆê¸°í™” ë¬¸ì œ** â† ì™„ì „ í•´ê²°!
- [x] GoogleService-Info.plist í”„ë¡œì íŠ¸ ë“±ë¡
- [x] Push Notifications ê¶Œí•œ
- [x] Provisioning Profile
- [x] ìˆ˜ì¶œ ê·œì • ì¤€ìˆ˜
- [x] CODE_SIGN_ENTITLEMENTS

### â³ ì§„í–‰ ì¤‘
- [ ] **InAppWebView í¬ë˜ì‹œ** â† ë‚¨ì€ ë¬¸ì œ
- [ ] Build 15 CodeMagic ë¹Œë“œ ëŒ€ê¸°
- [ ] TestFlight ì—…ë¡œë“œ í™•ì¸
- [ ] ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸

### â“ ë¶ˆí™•ì‹¤
- InAppWebView í”ŒëŸ¬ê·¸ì¸ ì—…ë°ì´íŠ¸ë§Œìœ¼ë¡œ í•´ê²°ë ì§€ ë¶ˆí™•ì‹¤
- ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•  ìˆ˜ ìˆìŒ

---

## ğŸ”‘ í•µì‹¬ êµí›ˆ

**ê°€ì¥ ì¤‘ìš”í•œ ë°œê²¬:**
```
íŒŒì¼ì´ Gitì— ìˆì–´ë„ Xcode í”„ë¡œì íŠ¸ì— ë“±ë¡ë˜ì§€ ì•Šìœ¼ë©´ ë¹Œë“œì— í¬í•¨ ì•ˆ ë¨!
```

ì´ ë¬¸ì œë¡œ 11ì‹œê°„(Build 6 ì»¤ë°‹) ë™ì•ˆ Firebaseê°€ ê³„ì† í¬ë˜ì‹œí–ˆìŒ.

**í•´ê²° ë°©ë²•:**
- Windowsì—ì„œëŠ” Xcode ì‚¬ìš© ë¶ˆê°€
- `project.pbxproj` íŒŒì¼ì„ ì§ì ‘ ìˆ˜ì •
- 4ê°œ ì„¹ì…˜ì— íŒŒì¼ ì°¸ì¡° ì¶”ê°€

---

## ğŸ”— ì°¸ê³ 

**GitHub:** https://github.com/zanoone/sefra
**CodeMagic:** https://codemagic.io/apps
**App Store Connect:** https://appstoreconnect.apple.com

**ì‘ì—…ì¼:** 2025-11-06
**ì†Œìš” ì‹œê°„:** ì•½ 14ì‹œê°„
**ì´ ë¹Œë“œ ì‹œë„:** 15íšŒ
**í•µì‹¬ ë¬¸ì œ:**
1. GoogleService-Info.plist ëˆ„ë½ (Build 1-5)
2. Firebase ë„¤ì´í‹°ë¸Œ ì´ˆê¸°í™” ì¶©ëŒ (Build 6-13)
3. **GoogleService-Info.plistê°€ project.pbxprojì— ë¯¸ë“±ë¡** (Build 13) â† ê²°ì •ì !
4. InAppWebView í”ŒëŸ¬ê·¸ì¸ í¬ë˜ì‹œ (Build 14-15)

**í•´ê²° ì™„ë£Œ:**
- âœ… Firebase ì´ˆê¸°í™” (Build 14ì—ì„œ í™•ì¸)
- âœ… Push Notifications ì„¤ì •
- âœ… Xcode í”„ë¡œì íŠ¸ ì„¤ì •

**ë‚¨ì€ ë¬¸ì œ:**
- âŒ InAppWebView í”ŒëŸ¬ê·¸ì¸ í¬ë˜ì‹œ (Build 15ì—ì„œ í•´ê²° ì‹œë„ ì¤‘)

---

**Build 15 ê²°ê³¼ ëŒ€ê¸° ì¤‘... â³**
